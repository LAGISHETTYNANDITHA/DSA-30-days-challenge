{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\hp\\\\Desktop\\\\project\\\\eventmate-app\\\\frontend\\\\src\\\\components\\\\BookingForm.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BookingForm = ({\n  bookingId,\n  eventId,\n  onBookingUpdated\n}) => {\n  _s();\n  const [ticketCount, setTicketCount] = useState(1);\n  const [error, setError] = useState('');\n  useEffect(() => {\n    if (bookingId) {\n      // Fetch existing booking details if bookingId is provided\n      axios.get(`/api/bookings/${bookingId}`).then(response => {\n        setTicketCount(response.data.ticketCount);\n      }).catch(err => {\n        setError('Error fetching booking details');\n      });\n    }\n  }, [bookingId]);\n  const handleSubmit = e => {\n    e.preventDefault();\n    const bookingData = {\n      eventId,\n      ticketCount\n    };\n    const request = bookingId ? axios.put(`/api/bookings/${bookingId}`, bookingData) : axios.post('/api/bookings', bookingData);\n    request.then(response => {\n      onBookingUpdated(response.data);\n      setTicketCount(1);\n      setError('');\n    }).catch(err => {\n      setError('Error saving booking');\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: bookingId ? 'Update Booking' : 'Create Booking'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        color: 'red'\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 23\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Ticket Count:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        value: ticketCount,\n        onChange: e => setTicketCount(e.target.value),\n        min: \"1\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      children: bookingId ? 'Update' : 'Book'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 9\n  }, this);\n};\n_s(BookingForm, \"yrNjuMRuklVDeJq0JXtNZ1vLJkk=\");\n_c = BookingForm;\nexport default BookingForm;\nvar _c;\n$RefreshReg$(_c, \"BookingForm\");","map":{"version":3,"names":["React","useState","useEffect","axios","jsxDEV","_jsxDEV","BookingForm","bookingId","eventId","onBookingUpdated","_s","ticketCount","setTicketCount","error","setError","get","then","response","data","catch","err","handleSubmit","e","preventDefault","bookingData","request","put","post","onSubmit","children","fileName","_jsxFileName","lineNumber","columnNumber","style","color","type","value","onChange","target","min","required","_c","$RefreshReg$"],"sources":["C:/Users/hp/Desktop/project/eventmate-app/frontend/src/components/BookingForm.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\n\nconst BookingForm = ({ bookingId, eventId, onBookingUpdated }) => {\n    const [ticketCount, setTicketCount] = useState(1);\n    const [error, setError] = useState('');\n\n    useEffect(() => {\n        if (bookingId) {\n            // Fetch existing booking details if bookingId is provided\n            axios.get(`/api/bookings/${bookingId}`)\n                .then(response => {\n                    setTicketCount(response.data.ticketCount);\n                })\n                .catch(err => {\n                    setError('Error fetching booking details');\n                });\n        }\n    }, [bookingId]);\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        const bookingData = { eventId, ticketCount };\n\n        const request = bookingId \n            ? axios.put(`/api/bookings/${bookingId}`, bookingData) \n            : axios.post('/api/bookings', bookingData);\n\n        request\n            .then(response => {\n                onBookingUpdated(response.data);\n                setTicketCount(1);\n                setError('');\n            })\n            .catch(err => {\n                setError('Error saving booking');\n            });\n    };\n\n    return (\n        <form onSubmit={handleSubmit}>\n            <h2>{bookingId ? 'Update Booking' : 'Create Booking'}</h2>\n            {error && <p style={{ color: 'red' }}>{error}</p>}\n            <div>\n                <label>Ticket Count:</label>\n                <input \n                    type=\"number\" \n                    value={ticketCount} \n                    onChange={(e) => setTicketCount(e.target.value)} \n                    min=\"1\" \n                    required \n                />\n            </div>\n            <button type=\"submit\">{bookingId ? 'Update' : 'Book'}</button>\n        </form>\n    );\n};\n\nexport default BookingForm;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}